<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 获取滚动条高度 · 柠檬时光 Lemon time</title><meta name="description" content="获取滚动条高度 - Ledger.Liang"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://yoursite.com/atom.xml" title="柠檬时光 Lemon time"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/Tiramisusie" target="_blank" class="nav-list-link">GITHUB</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">获取滚动条高度</h1><div class="post-info">Mar 31, 2015</div><div class="post-content"><p>在开发过程中有时候我们需要判断滚动条的位置，来执行某些行为。一个典型的例子：制作‘返回顶部’的控件时，我们想控制这个控件在页面向下滚动一定高度的时候才显示，当页面的顶部出现时这个控件隐藏。下面介绍在不同浏览器中获取滚动条高度的方法。<br><a id="more"></a></p>
<ul>
<li><p>在所有现代浏览器中（除了IE8及更早版本），都支持<code>Window</code>对象的<code>pageYOffset</code>和<code>pageXOffset</code>属性。<br><code>pageYOffset</code>用来获取垂直方向上文档滚动的高度。<br><code>pageXOffset</code>获取水平方法都得滚动距离。</p>
</li>
<li><p>在IE全系列中都支持<code>scrollTop</code>和<code>scrollLeft</code>属性。但他们不属于<code>Window</code>对象。这里分两种情况：</p>
<ol>
<li>正常情况下，通过查询文档的根节点<code>document.documentElement</code>来获取这些属性。（在chrome中这种方法始终返回 0）</li>
<li>怪异模式下，通过body元素查询<code>document.body.scrollTop</code>。（chrome用这种方法竟然能正常工作）</li>
</ol>
</li>
</ul>
<p>于是我们可以用以下的代码来实现‘返回顶部’控件的显示和隐藏：</p>
<pre><code>window.onscroll = function(){
    var w = window,
        d = document,
        scroll = w.pageYOffset || d.documentElement.scrollTop ||d.body.scrollTop;
    if(scroll&gt;200){
        //显示控件
    }else{
        //隐藏控件
    }
}
</code></pre><p><a href="#header">返回顶部</a></p>
</div></article></div></main><footer><div class="paginator"><a href="/2015/04/11/css动画生成插件/" class="prev">PREV</a><a href="/2015/03/30/picture-size/" class="next">NEXT</a></div><div class="copyright"><p>© 2015 - 2018 <a href="http://yoursite.com">Ledger.Liang</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p><p>粤ICP备18042433号 粤ICP备18042433号-1</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>